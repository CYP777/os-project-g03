# os-project-g03 
> Smart Record Player using Raspberry Pi, RFID (MFRC522), and Spotify API written in Python.

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ Raspberry Pi ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ RFID ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‡πÅ‡∏•‡∏∞‡∏°‡∏µ Web Dashboard ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ Linux (Debian/Ubuntu)

---

## Team Memnber

| No. | Student ID | Name | Responsibility (Role) |
|:---:|:----------:|:-----|:----------------------|
| 1 | B6612979 | ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏ß‡∏£‡∏≤‡∏†‡∏£‡∏ì‡πå ‡∏ó‡πâ‡∏≤‡∏ß‡∏û‡∏≤ | Sensor & Device Engineer |
| 2 | B6631505 | ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏û‡∏±‡∏ä‡∏ç‡πå‡∏ô‡∏ô‡∏ó‡∏ô‡πå ‡πÇ‡∏Ñ‡∏ï‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏á | Web Application Developer |
| 3 | B6639709 | ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏ä‡∏û‡∏£ ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ö‡∏∏‡∏ç | Backend & API Integrator |
| 4 | B6643041 | ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏û‡∏ô‡∏¥‡∏î‡∏≤ ‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡∏≠ | Hardware & Product Design |

---

### 1. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Hardware ‡πÅ‡∏•‡∏∞ Software ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

Hardware: Raspberry Pi, RFID Reader (RC522), ‡∏•‡∏≥‡πÇ‡∏û‡∏á Bluetooth

Audio System: PipeWire (‡∏´‡∏£‡∏∑‡∏≠ PulseAudio)

Spotify Service: Raspotify (librespot)

Database: SQLite3

#### üõ†Ô∏è ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Library (Initial Setup)
1. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£
‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤ Repository ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠
```Bash
sudo apt update && sudo apt upgrade -y
```

2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á System Dependencies (‡∏ú‡πà‡∏≤‡∏ô apt)
‡∏•‡∏á Library ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç : ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Python

```Bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞ Bluetooth Tools
sudo apt install -y pulseaudio-utils pipewire-audio-client-libraries bluez bluetooth

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á SQLite ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
sudo apt install -y sqlite3

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Python ‡πÅ‡∏•‡∏∞ GPIO (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡∏ö‡∏±‡∏ï‡∏£)
sudo apt install -y python3-pip python3-venv python3-dev libgpiod-dev
```
3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Raspotify (Spotify Connect)
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Raspberry Pi ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡πÇ‡∏û‡∏á Spotify

```Bash
curl -sL https://dtcooper.github.io/raspotify/install.sh | sh
```
4. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Python Libraries (‡∏†‡∏≤‡∏¢‡πÉ‡∏ô myenv)
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á Virtual Environment ‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Library ‡∏´‡∏•‡∏±‡∏Å 3 ‡∏Å‡∏•‡∏∏‡πà‡∏°:
```Bash
# 1. ‡∏Å‡∏•‡∏∏‡πà‡∏° Web Server (Flask)
pip install flask

# 2. ‡∏Å‡∏•‡∏∏‡πà‡∏° Spotify API (Spotipy)
pip install spotipy

# 3. ‡∏Å‡∏•‡∏∏‡πà‡∏° Hardware RFID (MFRC522)
pip install spidev mfrc522 RPi.GPIO
```

#### ‡∏™‡∏£‡∏∏‡∏õ Library ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô :

| Library / Tool | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ |
|:--------------:|:---------------:|
| Flask | ‡∏™‡∏£‡πâ‡∏≤‡∏á Web Dashboard ‡πÅ‡∏•‡∏∞ API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ |
| Spotipy | ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Spotify (‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô/‡∏´‡∏¢‡∏∏‡∏î, ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏•‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô) |
| mfrc522 | ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• RFID RC522 |
| RPi.GPIO | ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ç‡∏≤ Pin ‡∏ö‡∏ô Raspberry Pi |
| SQLite3 | ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Mapping ‡∏ö‡∏±‡∏ï‡∏£ ‡πÅ‡∏•‡∏∞ Log ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á |
| PipeWire | ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏•‡∏≥‡πÇ‡∏û‡∏á Bluetooth |

#### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Hardware Interface :
‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ RFID ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô SPI ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Pi

```Bash
1. ‡∏û‡∏¥‡∏°‡∏û‡πå sudo raspi-config
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Interface Options
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SPI ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö Yes ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
4. Finish ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ö‡∏π‡∏ï‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
```
---

### 2. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```Bash
~/myenv                   # Python Virtual Environment
~/os-project-g03/
‚îú‚îÄ‚îÄ app.py                # Flask Web Server (Dashboard & API)
‚îú‚îÄ‚îÄ player.py             # RFID Logic & Spotify Control
‚îú‚îÄ‚îÄ database.db           # SQLite Database
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ index.html        # Web Dashboard UI (Layout 25-50-25)
```
---

### 3. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö OS (Automation)
üîä ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Bluetooth)
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏≠‡∏Å‡∏•‡∏≥‡πÇ‡∏û‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö background ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ Path ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô  
* Service: Environment="XDG_RUNTIME_DIR=/run/user/1000"

üöÄ Systemd Services
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô /etc/systemd/system/ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á

* flask_app.service: ‡∏£‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
* rfid_player.service: ‡∏£‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏ö‡∏±‡∏ï‡∏£

üßπ Crontab (Auto Maintenance)
‡∏™‡∏±‡πà‡∏á‡∏•‡∏ö Log ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏∑‡∏ô

```Bash
0 0 * * * sqlite3 /path/to/database.db "DELETE FROM play_logs WHERE timestamp < date('now', '-30 days');"
```
---

### 4. ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô
* Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Virtual Environment (myenv)

* Login Spotify: ‡∏£‡∏±‡∏ô player.py ‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (OAuth)

* Setup Services: ‡∏™‡∏±‡πà‡∏á sudo systemctl enable --now flask_app rfid_player

* ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏ú‡πà‡∏≤‡∏ô IP ‡∏Ç‡∏≠‡∏á Raspberry Pi ‡∏ó‡∏µ‡πà‡∏û‡∏≠‡∏£‡πå‡∏ï 5000 -> http://172.20.10.3:5000/

---